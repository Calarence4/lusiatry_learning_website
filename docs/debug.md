# Bug 修复清单

## 优先级：高

### 1. 打卡任务 - 截止时间和时长必填
- **位置**: `CheckIn.jsx` - 新建任务表单
- **问题**: 截止时间和预期时长应为必填项，当前可以跳过
- **修复**: 添加表单验证，必填字段缺失时标红摇晃提示

### 2. 主页待解决问题数不刷新
- **位置**: `Home.jsx`
- **问题**: 提交问题后，主页的"待解决问题"数量没有实时更新
- **修复**: 添加数据刷新逻辑或使用全局状态管理

### 3. 待归档数目错误
- **位置**: `LearningRecorder.jsx`
- **问题**: 显示的待归档数应为草稿箱中的总文件数
- **修复**: 确认统计逻辑，正确计算草稿箱子文件数量

### 4. 课程信息更新 500 错误
- **位置**: `backend/controllers/coursesController.js`
- **问题**: 更新课程信息时返回 500 服务器错误
- **修复**: 检查后端更新逻辑和数据库字段匹配

### 5. 自定义追踪项出现负数
- **位置**: 课程追踪模块
- **问题**: 追踪项数值可能为负数
- **修复**: 添加数值下限校验，不允许小于 0

### 6. 课程卡片颜色排序错误
- **位置**: 课程列表组件
- **问题**: 卡片默认颜色分配顺序不正确
- **修复**: 检查颜色数组索引逻辑

### 7. 总课时必须大于 1
- **位置**: 课程创建/编辑表单
- **问题**: 总课时应校验 ≥ 1
- **修复**: 添加表单验证

### 8. 编辑区问题
- **位置**: 课程编辑区域
- **问题**: 
  - 编辑区存在多个报错
  - 需移除"编辑课时"功能
- **修复**: 逐一排查错误，简化编辑区逻辑

### 9. 问题集关联笔记不存在
- **位置**: `Questions.jsx`
- **问题**: 关联笔记时可能没有可选笔记
- **修复**: 添加空状态提示，引导用户先创建笔记

### 10. 草稿名不对齐
- **位置**: 草稿列表 UI
- **问题**: 草稿文件名显示不对齐
- **修复**: 调整 CSS 样式

---

## 优先级：中

### 11. 知识库文件/笔记创建逻辑
- **问题**: 创建流程不清晰，存在多处问题
- **修复**: 需要整体重构

### 12. 创建文件夹逻辑优化
- **问题**: 文件夹创建体验不佳
- **修复**: 优化交互流程

---

## UI/UX 改进

### 13. 移除系统提示框
- **问题**: 当前使用 `alert()` 系统弹窗，风格不统一
- **修复**: 
  - 实现自定义 Toast 组件
  - 必填字段缺失时：输入框边框标红 + 摇晃动画
  - 成功/错误提示：使用 Toast 通知

---

## 知识库重构（单独任务）
知识库模块存在大量问题，需要整体重构：
- 文件创建逻辑
- 文件夹管理
- 笔记编辑体验
- 草稿箱功能
